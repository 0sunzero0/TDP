<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

    <style>
        body {
          padding-top: 70px;
          padding-bottom: 30px;
        }
            .navbar-brand {
        margin-left: 70px;
    }

    .nav-link {

        margin-left: 150px;
    }
        .navbar-brand {
        margin-left: 50px;
    }

    .nav-link {

        margin-left: 100px;
    }
    </style>
    <script>
        $(document).on('click', '#btnSave', function(e){
            e.preventDefault();
            $("#form").submit();
        });
        function create_til() {
            let title = $('#title').val()
            let user = $('#reg_id').val()
            let content = $('#content').val()

            $.ajax({
                type: "POST",
                url: "/til",
                data: {til_user_give: user, til_title_give: title, til_content_give: content},
                success: function (response) { // 성공하면
                    console.log("success");
                    location.href="/til_board";
                }
            })
        }
        $(document).on('click', '#btnList', function(e){
            e.preventDefault();
           window.history.back();
        });
    </script>
</head>

<body>

	<article>
		<div class="container" role="main">
			<h2>board Form</h2>
			<form name="form" id="form" role="form" method="post" action="/til_board">
				<div class="mb-3">
					<label for="title">제목</label>
					<input type="text" class="form-control" name="title" id="title" placeholder="제목을 입력해 주세요">
				</div>

				<div class="mb-3">
					<label for="reg_id">작성자</label>
					<input type="text" class="form-control" name="reg_id" id="reg_id" placeholder="이름을 입력해 주세요">
				</div>
				<div class="mb-3">
					<label for="content">내용</label>
					<textarea class="form-control" rows="5" name="content" id="content" placeholder="내용을 입력해 주세요" ></textarea>
				</div>
				<div class="mb-3">
					<label for="tag">TAG</label>
					<input type="text" class="form-control" name="tag" id="tag" placeholder="태그를 입력해 주세요">
				</div>
			</form>
			<div>
				<button onclick="create_til()" type="button" class="btn btn-sm btn-primary" id="btnSave">저장</button>
				<button type="button" class="btn btn-sm btn-primary" id="btnList">목록</button>
			</div>
		</div>
	</article>
</body>
</html>
